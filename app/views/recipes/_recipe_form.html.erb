<%= form_with(model: @recipe, local: true) do |f| %>
<%= render 'shared/error_messages', object: f.object %>

<div class="field">
<h1>Slime Name: </h1>
<%= f.text_area :title %>
<%= f.text_area :description, placeholder: "Add a short description about your recipe" %>
</div>
<span class="image">
<%= f.file_field :image, accept: "image/jpeg, image/gif, image/png" %>
</span>



<h3> Add Ingredients </h3>
<%= f.fields_for :recipe_ingredients do |recipe_ingredient| %>
<%= render 'recipe_ingredient_fields', f: recipe_ingredient %>
<% end %>
<div class="links">
<%= link_to_add_association 'Add Ingredient', f, :recipe_ingredients %>

</div>

<%= f.submit "Post", class: "btn-cutstom2" %>


<% end %>






<script type="text/javascript">
$("#recipe_image").bind("change", function() {
    const size_in_megabytes = this.files[0].size/1024/1024;
    if (size_in_megabytes > 5 ) {
        alert("Maximum file size is 5MB. Please choose a smaller file.");
    }
});
</script>